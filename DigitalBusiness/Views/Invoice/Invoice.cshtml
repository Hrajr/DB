@model ReferenceViewModel
@{
    ViewData["Title"] = "All references";
}

<h1>All references</h1>

<div class="row" style="margin:auto; width:50%; padding:10px;">
    <div class="col-lg-12" style="margin:auto; width:50%; padding:10px;">
        <form class="login-form" asp-controller="Reference">
            <button class="btn btn-outline-primary" asp-action="AddReference">Add reference</button><br />
            @for (int i = 0; i < Model.ListOfReferences.Count; i++)
            {<a>Companyname: @Model.ListOfReferences[i].CompanyName</a> <br />
            <a>Contactname: @Model.ListOfReferences[i].ContactName</a><br />
            <a>Address: @Model.ListOfReferences[i].Address</a><br />
            <a>Zipcode: @Model.ListOfReferences[i].Zipcode</a><br />
            <a>Place: @Model.ListOfReferences[i].Place</a><br />
            <a>Country: @Model.ListOfReferences[i].Country</a><br />
            <a>Phonenumber: @Model.ListOfReferences[i].PhoneNumber</a><br />
            <a>Email: @Model.ListOfReferences[i].Email</a><br />
            <a>Bank: @Model.ListOfReferences[i].Bank</a><br />
            <a>BIC: @Model.ListOfReferences[i].BIC</a><br />
            <a>IBAN: @Model.ListOfReferences[i].IBAN</a><br />
            <a>KvK: @Model.ListOfReferences[i].KvK</a><br />
            <a>VAT: @Model.ListOfReferences[i].VAT</a><br />
            <a>Doubtfull: @Model.ListOfReferences[i].Doubtfull</a> <br />
            <a>Date of creation: @Model.ListOfReferences[i].Date</a><br />
            <a>Note: @Model.ListOfReferences[i].Note</a><br /><br />
            <button class="btn btn-outline-secondary" onclick="" asp-action="OpenReference" asp-route-id="@Model.ListOfReferences[i].ID" >Edit</button><br />
            <button class="btn btn-outline-secondary" onclick="RemoveReference('@Model.ListOfReferences[i].ID')">Remove</button><br />}

        </form>
    </div>
</div>

<script type="text/javascript">
    function RemoveReference(id) {
                            $.ajax({
                                type: "POST",
                                url: '@Url.Action("RemoveReference", "Reference")',
                                data: {
                                    'id': id
                                }
                            });
                            alert('Referencenumber ' + id + ' is removed!');
                            location.reload();
    }
</script>